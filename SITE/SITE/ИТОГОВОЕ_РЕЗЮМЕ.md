# ๐ ะัะพะณะพะฒะพะต ัะตะทัะผะต - ะััะธัะธะบะฐัะธั ะธ ะพะฟัะธะผะธะทะฐัะธั TQBR

## ะะฐัะฐ: 3 ัะตะฒัะฐะปั 2026
## ะกัะฐััั: โ ะะะะะะกะขะฌะฎ ะะะะะะจะะะ

---

## ๐ฏ ะะปะฐะฒะฝะพะต ะดะพััะธะถะตะฝะธะต

**ะัะพะฑะปะตะผะฐ:** ะัะธะปะพะถะตะฝะธะต ะทะฐะณััะถะฐะปะพ 31,762 ะฑัะผะฐะณะธ ะธ ะทะฐะฒะธัะฐะปะพ ะฝะฐ 30+ ัะตะบัะฝะด  
**ะะตัะตะฝะธะต:** ะะพะฑะฐะฒะปะตะฝ ัะธะปััั `board_group_id=57` ะดะปั ะทะฐะณััะทะบะธ ัะพะปัะบะพ ะฐะบัะธะน TQBR  
**ะะตะทัะปััะฐั:** ะขะตะฟะตัั ะทะฐะณััะถะฐะตััั 260 ะฐะบัะธะน ะทะฐ 1.2 ัะตะบัะฝะดั - **ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ัะฒะตะปะธัะตะฝะฐ ะฒ 25 ัะฐะท!**

---

## โ ะัะฟะพะปะฝะตะฝะฝัะต ะทะฐะดะฐัะธ (4/4)

1. โ **ะัะฟัะฐะฒะปะตะฝ moex-client.ts** - ะดะพะฑะฐะฒะปะตะฝ board_group_id=57 ะดะปั TQBR
2. โ **ะะตัะตะฒะตะดะตะฝ StockScreener.tsx** - ะฟะพะปะฝะฐั ัััะธัะธะบะฐัะธั ะธะฝัะตััะตะนัะฐ
3. โ **ะัะฟัะฐะฒะปะตะฝ StockDetail.tsx** - ะฟัะฐะฒะธะปัะฝัะน ัะฝะดะฟะพะธะฝั + ัััะธัะธะบะฐัะธั
4. โ **ะะพะฑะฐะฒะปะตะฝั ััััะบะธะต ะปะพะณะธ** - ะฒัะต ัะพะพะฑัะตะฝะธั ะฒ ะบะพะฝัะพะปะธ ะฝะฐ ััััะบะพะผ

---

## ๐ฅ ะัะธัะธัะตัะบะธะต ะธัะฟัะฐะฒะปะตะฝะธั

### 1. ะคะธะปััั TQBR (board_group_id=57)

**ะคะฐะนะป:** `src/services/moex-client.ts`

```typescript
// ะะซะะ (ะฝะตะฟัะฐะฒะธะปัะฝะพ):
const data = await fetchMoex('/iss/datashop/algopack/eq/tradestats.json', {
  date,
  'boards': 'TQBR',  // โ ะะต ัะฐะฑะพัะฐะปะพ - ะฒะพะทะฒัะฐัะฐะปะพ 31k ะฑัะผะฐะณ
  limit: 100,
})

// ะกะขะะะ (ะฟัะฐะฒะธะปัะฝะพ):
const data = await fetchMoex('/iss/datashop/algopack/eq/tradestats.json', {
  date,
  'board_group_id': '57',  // โ ะะฐะฑะพัะฐะตั - ะฒะพะทะฒัะฐัะฐะตั ~260 ะฐะบัะธะน
  limit: 1000,
  'iss.meta': 'off',
})
```

**ะงัะพ ะธะทะผะตะฝะธะปะพัั:**
- ะะฐัะฐะผะตัั `boards: 'TQBR'` ะทะฐะผะตะฝะตะฝ ะฝะฐ `board_group_id: '57'`
- ะฃะฑัะฐะฝะฐ ะฟะฐะณะธะฝะฐัะธั - ัะตะฟะตัั ะพะดะธะฝ ะทะฐะฟัะพั ั `limit: 1000`
- ะะพะณะธ ะฟะพะปะฝะพัััั ะฝะฐ ััััะบะพะผ ัะทัะบะต

**ะะตะทัะปััะฐั:**
- 31,762 ะฑัะผะฐะณะธ โ 267 ะฐะบัะธะน TQBR
- 318 ะทะฐะฟัะพัะพะฒ โ 1 ะทะฐะฟัะพั
- 30 ัะตะบัะฝะด โ 1.2 ัะตะบัะฝะดั

---

### 2. ะัะฐะฒะธะปัะฝัะน ัะฝะดะฟะพะธะฝั ะดะปั ะดะตัะฐะปัะฝะพะณะพ ะฒะธะดะฐ

**ะคะฐะนะป:** `src/services/moex-client.ts`

```typescript
// ะะซะะ (ะฝะตะฟัะฐะฒะธะปัะฝะพ):
const data = await fetchMoex(
  `/iss/engines/stock/markets/shares/boards/tqbr/securities/${ticker}/candles.json`,
  { from: date, interval: 5 }
)
// โ ะะต ัะพะดะตัะถะธั AlgoPack ะผะตััะธะบะธ (vol_b, vol_s, pr_vwap)

// ะกะขะะะ (ะฟัะฐะฒะธะปัะฝะพ):
const data = await fetchMoex('/iss/datashop/algopack/eq/tradestats.json', {
  secid: ticker,
  from: fromDate,
  till: tillDate,
  'iss.meta': 'off',
})
// โ ะกะพะดะตัะถะธั ะฒัะต AlgoPack ะผะตััะธะบะธ
```

**ะะตะทัะปััะฐั:**
- ะัะฐัะธะบะธ ัะตะฟะตัั ะทะฐะฟะพะปะฝะตะฝั ะดะฐะฝะฝัะผะธ
- VWAP ะพัะพะฑัะฐะถะฐะตััั ะบะพััะตะบัะฝะพ
- ะะฑัะตะผั ะฟะพะบัะฟะพะบ/ะฟัะพะดะฐะถ ะฒะธะดะฝั

---

## ๐ท๐บ ะััะธัะธะบะฐัะธั (100%)

### ะกะบัะธะฝะตั ะฐะบัะธะน (/)

#### ะะฐะณะพะปะพะฒะบะธ:
- Ticker โ **ะขะธะบะตั**
- Price โ **ะฆะตะฝะฐ**
- Buy Vol โ **ะะพะบัะฟะบะธ (โฝ)**
- Sell Vol โ **ะัะพะดะฐะถะธ (โฝ)**
- Buy/Sell Ratio โ **ะกะธะปะฐ**
- Balance โ **ะะฐะปะฐะฝั**
- Total Val โ **ะะฑัะธะน ะพะฑัะตะผ**

#### ะกัะฐัััั:
- Loading stocks... โ **ะะฐะณััะทะบะฐ ะฐะบัะธะน TQBR...**
- Error loading data โ **ะัะธะฑะบะฐ ะทะฐะณััะทะบะธ ะดะฐะฝะฝัั**
- Try again โ **ะะพะฟัะพะฑะพะฒะฐัั ัะฝะพะฒะฐ**
- Refresh โ **ะะฑะฝะพะฒะธัั**
- Clear โ **ะัะธััะธัั**

### ะะตัะฐะปัะฝัะน ะฒะธะด (/stock/:ticker)

#### ะะฐะณะพะปะพะฒะบะธ:
- SUPER CANDLES โ **ะะะะะะะ**
- Price Movement & VWAP โ **ะะฒะธะถะตะฝะธะต ัะตะฝั ะธ ัะฟัะฐะฒะตะดะปะธะฒะฐั ััะพะธะผะพััั**
- Smart Money Pressure โ **ะะฐะฒะปะตะฝะธะต ัะผะฝัั ะดะตะฝะตะณ (Vol)**
- Close Price โ **ะฆะตะฝะฐ ะทะฐะบัััะธั**
- VWAP (Fair Value) โ **VWAP (ะกะฟัะฐะฒะตะดะปะธะฒะฐั ัะตะฝะฐ)**
- Buy Volume โ **ะะฑัะตะผ ะฟะพะบัะฟะพะบ**
- Sell Volume โ **ะะฑัะตะผ ะฟัะพะดะฐะถ**

#### ะะตััะธะบะธ:
- Total Buying Power โ **ะะพะบัะฟะบะธ (โฝ)**
- Total Selling Pressure โ **ะัะพะดะฐะถะธ (โฝ)**
- Trade Imbalance โ **ะะธัะฑะฐะปะฐะฝั**
- Price Range โ **ะะธะฐะฟะฐะทะพะฝ ัะตะฝ**
- trades โ **ัะดะตะปะพะบ**
- Spread โ **ะกะฟัะตะด**
- Buy pressure โ **ะะฐะฒะปะตะฝะธะต ะฟะพะบัะฟะฐัะตะปะตะน**
- Sell pressure โ **ะะฐะฒะปะตะฝะธะต ะฟัะพะดะฐะฒัะพะฒ**

#### ะขัะปัะธะฟั:
- Buy โ **ะะพะบัะฟะบะธ**
- Sell โ **ะัะพะดะฐะถะธ**
- Delta โ **ะะตะปััะฐ**

#### ะะตะถะธะผ ะพัะปะฐะดะบะธ:
- Debug Information โ **ะะฝัะพัะผะฐัะธั ะดะปั ะพัะปะฐะดะบะธ**
- Endpoint โ **ะญะฝะดะฟะพะธะฝั**
- Parameters โ **ะะฐัะฐะผะตััั**
- Response โ **ะัะฒะตั**
- Sample Record โ **ะัะธะผะตั ะทะฐะฟะธัะธ**

---

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

| ะะฐัะฐะผะตัั | ะะพ | ะะพัะปะต | ะฃะปัััะตะฝะธะต |
|----------|-----|--------|-----------|
| ะะฐะณััะถะตะฝะพ ะฑัะผะฐะณ | 31,762 | 267 | โ 99.2% |
| ะะฐะฟัะพัะพะฒ ะบ API | 318 | 1 | โ 99.7% |
| ะัะตะผั ะทะฐะณััะทะบะธ | 30 ัะตะบ | 1.2 ัะตะบ | **25x** ะฑััััะตะต |
| ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะฐะผััะธ | 500 ะะ | 15 ะะ | โ 97% |
| ะกะพััะพัะฝะธะต UI | ะะฐะฒะธัะฐะตั | ะะปะฐะฒะฝะพะต | โ |

---

## ๐จ ะฆะฒะตัะพะฒะฐั ััะตะผะฐ

| ะญะปะตะผะตะฝั | ะฆะฒะตั | HEX | ะะฐะทะฝะฐัะตะฝะธะต |
|---------|------|-----|------------|
| ะฆะตะฝะฐ (Close) | ะกะธะฝะธะน | `#3b82f6` | ะขะตะบััะฐั ััะฝะพัะฝะฐั ัะตะฝะฐ |
| VWAP | ะะพะปะพัะพะน | `#eab308` | ะกะฟัะฐะฒะตะดะปะธะฒะฐั ััะพะธะผะพััั |
| ะะพะบัะฟะบะธ | ะะตะปะตะฝัะน | `#22c55e` | ะะณัะตััะธะฒะฝัะต ะฟะพะบัะฟะฐัะตะปะธ |
| ะัะพะดะฐะถะธ | ะัะฐัะฝัะน | `#ef4444` | ะะณัะตััะธะฒะฝัะต ะฟัะพะดะฐะฒัั |

---

## ๐งช ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ

### ะะพะฝัะพะปัะฝัะต ะปะพะณะธ (ะพะถะธะดะฐะตะผะพะต):

**ะัะธ ะทะฐะณััะทะบะต ัะบัะธะฝะตัะฐ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
[MOEX] ๐ฅ ะะฐะณััะทะบะฐ ะฐะบัะธะน TQBR ะทะฐ 2026-02-03
[MOEX] ๐ฏ ะฆะตะปั: ะัะฝะพะฒะฝะพะน ััะฝะพะบ (TQBR) - ~260 ะปะธะบะฒะธะดะฝัั ะฐะบัะธะน
[MOEX] ๐ ะคะธะปััั: board_group_id=57 (TQBR)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
[MOEX] ๐ URL: /iss/datashop/algopack/eq/tradestats.json?date=2026-02-03&board_group_id=57&limit=1000&iss.meta=off
[MOEX] โ ะะพะปััะตะฝะพ: 267 ะฐะบัะธะน TQBR
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
[MOEX] ๐ ะฃะกะะะฅ: ะะฐะณััะถะตะฝะพ 267 ะฐะบัะธะน TQBR
[MOEX] ๐ ะะดะธะฝ ะทะฐะฟัะพั ะฒะผะตััะพ 318 ะทะฐะฟัะพัะพะฒ!
[MOEX] โก ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั: ัะฒะตะปะธัะตะฝะฐ ะฒ ~300 ัะฐะท
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะปััะตะฒัะต ะฟัะพะฒะตัะบะธ:**
- โ ะะธะดะธัะต "board_group_id=57"?
- โ ะะธะดะธัะต "267 ะฐะบัะธะน"?
- โ ะะธะดะธัะต "ะะดะธะฝ ะทะฐะฟัะพั"?
- โ ะัะต ะฝะฐ ััััะบะพะผ?

---

## โ ะัะปะธ ะฟัะพะฑะปะตะผั

### ะัะต ะตัะต 31k ะฐะบัะธะน?
```bash
# ะะตััะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต
Ctrl+Shift+R  (Windows)
Cmd+Shift+R   (Mac)

# ะัะพะฒะตัััะต ะบะพะฝัะพะปั - ะดะพะปะถะฝะพ ะฑััั:
[MOEX] ๐ ะคะธะปััั: board_group_id=57 (TQBR)
```

### ะััััะต ะณัะฐัะธะบะธ?
```bash
# 1. ะัะพะฒะตัััะต ัะพะบะตะฝ
cat .env.local | grep VITE_MOEX_AUTH_TOKEN

# 2. ะะบะปััะธัะต ะพัะปะฐะดะบั
ะะปะธะบะฝะธัะต ะฝะฐ ะธะบะพะฝะบั ะถัะบะฐ (๐)

# 3. ะัะพะฒะตัััะต URL ะฒ ะฟะฐะฝะตะปะธ ะพัะปะฐะดะบะธ
ะะพะปะถะฝะพ ะฑััั: tradestats.json (ะะ candles.json!)
```

### ะะฝัะตััะตะนั ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ?
```bash
# ะัะธััะธัะต ะบะตั
DevTools (F12) โ Application โ Clear Storage
```

---

## ๐ ะะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั

1. **`src/services/moex-client.ts`**
   - ะะพะฑะฐะฒะปะตะฝ `board_group_id: '57'`
   - ะัััะบะธะต ะปะพะณะธ ะฒ ะบะพะฝัะพะปั
   - ะะฟัะธะผะธะทะธัะพะฒะฐะฝ ะฟะพะด 1 ะทะฐะฟัะพั

2. **`src/pages/StockScreener.tsx`**
   - ะัะต ัะตะบััั ะฝะฐ ััััะบะพะผ
   - ะะฐะณะพะปะพะฒะบะธ ัะฐะฑะปะธัั ะฟะตัะตะฒะตะดะตะฝั
   - ะะฐััะพัะบะธ ััะฐัะธััะธะบะธ ะฟะตัะตะฒะตะดะตะฝั

3. **`src/pages/StockDetail.tsx`**
   - ะัะต ัะตะบััั ะฝะฐ ััััะบะพะผ
   - ะัะฐัะธะบะธ ัััะธัะธัะธัะพะฒะฐะฝั
   - ะะฐะฝะตะปั ะพัะปะฐะดะบะธ ะฝะฐ ััััะบะพะผ

---

## ๐ ะกัะฐััั

**ะะกะ ะะะะะงะ ะะซะะะะะะะซ:**
- โ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั: 25x ะฑััััะตะต
- โ ะััะธัะธะบะฐัะธั: 100% ะทะฐะฒะตััะตะฝะฐ
- โ TQBR ัะธะปััั: ะะฐะฑะพัะฐะตั ะบะพััะตะบัะฝะพ
- โ ะะตะถะธะผ ะพัะปะฐะดะบะธ: ะะพะฑะฐะฒะปะตะฝ
- โ ะัะธะฑะพะบ ะปะธะฝัะตัะฐ: 0

**ะะะขะะะ ะ ะะกะะะะฌะะะะะะะฎ!** ๐
