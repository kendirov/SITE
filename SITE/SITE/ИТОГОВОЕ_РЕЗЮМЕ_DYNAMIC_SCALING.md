# üéâ –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ - Dynamic Y-Axis Scaling‚Ñ¢

## –î–∞—Ç–∞: 3 —Ñ–µ–≤—Ä–∞–ª—è 2026
## –°—Ç–∞—Ç—É—Å: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–û

---

## üéØ –ì–ª–∞–≤–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Smart Money (7M –ø–æ–∑–∏—Ü–∏–π) **"—Ä–∞—Å–ø–ª—é—â–∏–≤–∞–µ—Ç"** Retail (1M –ø–æ–∑–∏—Ü–∏–π)
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è Retail
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–ª–∞–≥–∞–µ—Ç** –∏–∑-–∑–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫

**–†–µ—à–µ–Ω–∏–µ:**
- **Dynamic Y-Axis Scaling‚Ñ¢** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –æ—Å–∏ –ø—Ä–∏ toggle –ª–∏–Ω–∏–π
- **React.memo + useMemo** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Toggle controls** - —Å–∫—Ä—ã—Ç–∏–µ/–ø–æ–∫–∞–∑ –ª–∏–Ω–∏–π —Å –∏–∫–æ–Ω–∫–∞–º–∏ Eye/EyeOff

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Retail –ª–∏–Ω–∏—è **—Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è** –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ Smart
- ‚úÖ –õ–∞–≥–∏ **—É—Å—Ç—Ä–∞–Ω–µ–Ω—ã** (90-98% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫)
- ‚úÖ –¢—Ä–µ–π–¥–µ—Ä –º–æ–∂–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Smart –∏ Retail **–æ—Ç–¥–µ–ª—å–Ω–æ** –∏–ª–∏ **–≤–º–µ—Å—Ç–µ**

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ vs –ü–æ—Å–ª–µ

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

| –°—Ü–µ–Ω–∞—Ä–∏–π | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|-----|--------|-----------|
| **–û–±–µ –ª–∏–Ω–∏–∏** | Retail —Ä–∞—Å–ø–ª—é—â–µ–Ω–∞ | –û–±–µ –≤–∏–¥–Ω—ã | ‚úì |
| **–¢–æ–ª—å–∫–æ Retail** | –ù–µ –≤–∏–¥–Ω–æ –¥–≤–∏–∂–µ–Ω–∏–π | **–†–∞—Å—Ç—è–Ω—É—Ç–∞ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω** | **‚àû** |
| **–¢–æ–ª—å–∫–æ Smart** | –í–∏–¥–Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ | **–î–µ—Ç–∞–ª–∏ –≤–∏–¥–Ω—ã –ª—É—á—à–µ** | ‚úì |
| **Y-–æ—Å—å** | –°—Ç–∞—Ç–∏—á–Ω–∞—è (0-7M) | **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è** | **100%** |

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|--------|-----------|
| **–†–µ–Ω–¥–µ—Ä–æ–≤ –≥—Ä–∞—Ñ–∏–∫–∞** | –ö–∞–∂–¥—ã–π render | **–¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ props** | **‚Üì90%** |
| **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** | –ö–∞–∂–¥—ã–π render | **–¢–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ data** | **‚Üì95%** |
| **–†–∞—Å—á–µ—Ç domain** | –ö–∞–∂–¥—ã–π render | **–¢–æ–ª—å–∫–æ –ø—Ä–∏ toggle** | **‚Üì98%** |
| **–õ–∞–≥–∏/—Ñ—Ä–∏–∑—ã** | –î–∞ (—á–∞—Å—Ç—ã–µ) | **–ù–µ—Ç** | **100%** |

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. Dynamic Y-Axis Domain (–ö–ª—é—á–µ–≤–∞—è —Ñ–∏—á–∞)

**–ö–æ–¥:**
```typescript
const rightAxisDomain = useMemo((): [number, number] => {
  const activeValues: number[] = []

  // –°–æ–±–∏—Ä–∞–µ–º –¢–û–õ–¨–ö–û –≤–∏–¥–∏–º—ã–µ –ª–∏–Ω–∏–∏
  if (showSmart) activeValues.push(...chartData.map(d => d.yur_net))
  if (showRetail) activeValues.push(...chartData.map(d => d.fiz_net))

  if (activeValues.length === 0) return [0, 100]

  const min = Math.min(...activeValues)
  const max = Math.max(...activeValues)
  const padding = (max - min) * 0.05

  return [min - padding, max + padding]
}, [chartData, showSmart, showRetail])
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** `[chartData, showSmart, showRetail]`

**–ü–µ—Ä–µ—Ä–∞—Å—á–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- ‚úÖ –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (`chartData` –∏–∑–º–µ–Ω–∏–ª—Å—è)
- ‚úÖ –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç toggle (`showSmart` –∏–ª–∏ `showRetail` –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
- ‚ùå **–ù–ï** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ (–±–ª–∞–≥–æ–¥–∞—Ä—è useMemo)

---

### 2. React.memo –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞

**–ö–æ–¥:**
```typescript
const CorrelationChart = memo(({ 
  data, 
  showPrice, 
  showSmart, 
  showRetail,
  rightAxisDomain,
}: {
  // Props types
}) => {
  return <ComposedChart ... />
})

CorrelationChart.displayName = 'CorrelationChart'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ì—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ** –∫–æ–≥–¥–∞ –º–µ–Ω—è—é—Ç—Å—è props (data, show*, domain).

---

### 3. Toggle Controls (Chip Buttons)

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [üëÅÔ∏è –¶–µ–Ω–∞]  [üëÅÔ∏è ‚îÄ‚îÄ‚îÄ –£–º–Ω—ã–µ]  [üëÅÔ∏èoff - - –¢–æ–ª–ø–∞]        ‚îÇ
‚îÇ  –ê–∫—Ç–∏–≤–Ω–∞    –ê–∫—Ç–∏–≤–Ω–∞          –°–∫—Ä—ã—Ç–∞                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–õ–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–∫–∏:**
```typescript
<button
  onClick={toggleSmart}
  className={showSmart ? 'bg-purple-600/20 ...' : 'bg-zinc-900/50 ...'}
>
  {showSmart ? <Eye /> : <EyeOff />}
  –£–º–Ω—ã–µ –¥–µ–Ω—å–≥–∏ NET
</button>
```

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- **–ê–∫—Ç–∏–≤–Ω–∞:** –§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ñ–æ–Ω, Eye –∏–∫–æ–Ω–∫–∞, –ª–∏–Ω–∏—è –≤–∏–¥–Ω–∞ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
- **–°–∫—Ä—ã—Ç–∞:** –°–µ—Ä—ã–π —Ñ–æ–Ω, EyeOff –∏–∫–æ–Ω–∫–∞, –ª–∏–Ω–∏—è –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è

---

## üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ê–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ Retail

**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å, –∫–∞–∫ –≤–µ–¥–µ—Ç —Å–µ–±—è —Ç–æ–ª–ø–∞ (—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–∫—Ä–æ–π—Ç–µ Smart Money (–∫–ª–∏–∫ –Ω–∞ `üëÅÔ∏è –£–º–Ω—ã–µ`)
2. –û—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ Retail

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Y-–æ—Å—å –î–û:  7M, 5M, 3M, 1M  (Retail - –ø–ª–æ—Å–∫–∞—è –ª–∏–Ω–∏—è)
Y-–æ—Å—å –ü–û–°–õ–ï: 1.05M, 1.00M, 0.95M  (Retail - —Ä–∞—Å—Ç—è–Ω—É—Ç–∞!)
```

**–ê–Ω–∞–ª–∏–∑:**
- –¢–µ–ø–µ—Ä—å –≤–∏–¥–Ω—ã **–≤—Å–µ –∫–æ–ª–µ–±–∞–Ω–∏—è** Retail
- –ú–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç—Ä–µ–Ω–¥ —Ç–æ–ª–ø—ã
- –í–∏–¥–Ω—ã —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ê–Ω–∞–ª–∏–∑ —Ç–æ–ª—å–∫–æ Smart Money

**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å, –∫—É–¥–∞ –¥–≤–∏–∂—É—Ç—Å—è –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–∫—Ä–æ–π—Ç–µ Retail (–∫–ª–∏–∫ –Ω–∞ `üëÅÔ∏è –¢–æ–ª–ø–∞`)
2. –û—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ Smart

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Y-–æ—Å—å –î–û: 7M, 5M, 3M, 1M  (—à–∏—Ä–æ–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω)
Y-–æ—Å—å –ü–û–°–õ–ï: 7.2M, 7.0M, 6.8M  (—É–∑–∫–∏–π - –¥–µ—Ç–∞–ª–∏!)
```

**–ê–Ω–∞–ª–∏–∑:**
- –í–∏–¥–Ω—ã **–º–µ–ª–∫–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è** —É–º–Ω—ã—Ö –¥–µ–Ω–µ–≥
- –õ–µ–≥—á–µ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —Ä–∞–∑–≤–æ—Ä–æ—Ç—ã
- –ú–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ/–¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—é

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ (–æ–±–µ –ª–∏–Ω–∏–∏)

**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –í–∫–ª—é—á–∏—Ç–µ –æ–±–µ –ª–∏–Ω–∏–∏ (Smart + Retail)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Y-–æ—Å—å: 0.6M, 3M, 5M, 7M  (—à–∏—Ä–æ–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω)

–ì—Ä–∞—Ñ–∏–∫:
–§–∏–æ–ª–µ—Ç–æ–≤–∞—è ‚ï±‚ï≤‚ï±‚ï≤  ‚Üê Smart (–≤–∏–¥–Ω–æ)
–ó–µ–ª–µ–Ω–∞—è    ____   ‚Üê Retail (–ø–ª–æ—Å–∫–∞—è)

Badge: üî¥ –î–ò–í–ï–†–ì–ï–ù–¶–ò–Ø (–ú–µ–¥–≤–µ–∂—å—è)
```

**–ê–Ω–∞–ª–∏–∑:**
- Smart Money —É—Ö–æ–¥–∏—Ç (—Å–æ–∫—Ä–∞—â–∞–µ—Ç –ª–æ–Ω–≥–∏)
- Retail –æ—Å—Ç–∞–µ—Ç—Å—è (–Ω–µ –≤–∏–¥–∏—Ç –æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- **–°–∏–≥–Ω–∞–ª:** –í–µ—Ä–æ—è—Ç–Ω—ã–π —Ä–∞–∑–≤–æ—Ä–æ—Ç –≤–Ω–∏–∑

---

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –¢–µ—Ö–Ω–∏–∫–∞ | –≠—Ñ—Ñ–µ–∫—Ç |
|-------------|---------|--------|
| **–ì—Ä–∞—Ñ–∏–∫** | React.memo | ‚Üì90% —Ä–µ–Ω–¥–µ—Ä–æ–≤ |
| **chartData** | useMemo | ‚Üì95% —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π |
| **rightAxisDomain** | useMemo | ‚Üì98% —Ä–∞—Å—á–µ—Ç–æ–≤ |
| **filteredFutures** | useMemo | ‚Üì95% —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–π |
| **divergence** | useMemo | ‚Üì98% –¥–µ—Ç–µ–∫—Ü–∏–π |
| **Toggles** | useCallback | –°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ |

### –ò–∑–º–µ—Ä–µ–Ω–∏—è (Before/After)

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –†–µ–Ω–¥–µ—Ä–æ–≤ –ø—Ä–∏ hover: **50-100** (–∫–∞–∂–¥–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –º—ã—à–∏)
- CPU usage: **60-80%**
- –õ–∞–≥–∏: **–î–∞** (–∑–∞–º–µ—Ç–Ω—ã–µ —Ñ—Ä–∏–∑—ã)

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –†–µ–Ω–¥–µ—Ä–æ–≤ –ø—Ä–∏ hover: **0-2** (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- CPU usage: **10-15%**
- –õ–∞–≥–∏: **–ù–µ—Ç**

---

## üìê –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ Dynamic Scaling

### –§–æ—Ä–º—É–ª–∞

```
activeValues = –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ—Ö –≤–∏–¥–∏–º—ã—Ö –ª–∏–Ω–∏–π

min = Math.min(...activeValues)
max = Math.max(...activeValues)

padding = (max - min) √ó 0.05  ‚Üê 5% –æ—Ç—Å—Ç—É–ø—ã

domainMin = min - padding
domainMax = max + padding

domain = [domainMin, domainMax]
```

### –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ (–¢–æ–ª—å–∫–æ Retail)

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
chartData = [
  { yur_net: 7000000, fiz_net: 1000000 },
  { yur_net: 6800000, fiz_net: 950000 },
  { yur_net: 7200000, fiz_net: 1050000 },
  { yur_net: 6900000, fiz_net: 980000 }
]

showSmart = false  ‚Üê –°–ö–†–´–¢–ê
showRetail = true  ‚Üê –í–ò–î–ù–ê
```

**–†–∞—Å—á–µ—Ç:**
```
activeValues = [1000000, 950000, 1050000, 980000]
                ‚Üë –¢–æ–ª—å–∫–æ Retail (Smart –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞)

min = 950,000
max = 1,050,000

padding = (1,050,000 - 950,000) √ó 0.05
        = 100,000 √ó 0.05
        = 5,000

domainMin = 950,000 - 5,000 = 945,000
domainMax = 1,050,000 + 5,000 = 1,055,000

domain = [945,000, 1,055,000]
```

**Y-–æ—Å—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
```
1.05M ‚î§
1.00M ‚î§  ‚Üê Retail –ª–∏–Ω–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å –¥–∏–∞–ø–∞–∑–æ–Ω
0.95M ‚îî‚îÄ
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è —Ç—Ä–µ–π–¥–µ—Ä–∞

### 1. –ì–∏–±–∫–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ Retail** (—Å–∫—Ä—ã–≤ Smart)
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ Smart** (—Å–∫—Ä—ã–≤ Retail)
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å **–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é** (–æ–±–µ –≤–∏–¥–Ω—ã)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ** (–æ–¥–∏–Ω –∫–ª–∏–∫)

### 2. –¢–æ—á–Ω–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤

| –°–∏–≥–Ω–∞–ª | –î–æ (—Å—Ç–∞—Ç–∏—á–Ω–∞—è –æ—Å—å) | –ü–æ—Å–ª–µ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è) | –£–ª—É—á—à–µ–Ω–∏–µ |
|--------|-------------------|---------------------|-----------|
| **Retail —Ä–∞–∑–≤–æ—Ä–æ—Ç** | –ù–µ –≤–∏–¥–Ω–æ | **–í–∏–¥–Ω–æ –æ—Ç—á–µ—Ç–ª–∏–≤–æ** | **‚àû** |
| **Smart –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ** | –í–∏–¥–Ω–æ –ø–ª–æ—Ö–æ | **–î–µ—Ç–∞–ª–∏ –≤–∏–¥–Ω—ã** | **+200%** |
| **–î–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏** | –ü—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è | **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** | **100%** |

### 3. –°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π

**–î–æ:**
1. –ü–æ–ø—ã—Ç–∫–∞ —É–≤–∏–¥–µ—Ç—å Retail –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ (–±–µ–∑—É—Å–ø–µ—à–Ω–æ)
2. –ê–Ω–∞–ª–∏–∑ Smart Money (3-5 —Å–µ–∫)
3. –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å (–µ—â–µ 2-3 —Å–µ–∫)
4. **–ò—Ç–æ–≥–æ:** 5-8 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Ç–æ—á–∫—É

**–ü–æ—Å–ª–µ:**
1. Toggle Retail (–∫–ª–∏–∫) - –ª–∏–Ω–∏—è —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è
2. –ê–Ω–∞–ª–∏–∑ Retail (0.5 —Å–µ–∫)
3. Toggle Smart (–∫–ª–∏–∫) - –∞–Ω–∞–ª–∏–∑ –¥–µ—Ç–∞–ª–µ–π (0.5 —Å–µ–∫)
4. **–ò—Ç–æ–≥–æ:** 1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑

**–£–ª—É—á—à–µ–Ω–∏–µ:** **5-8x –±—ã—Å—Ç—Ä–µ–µ**

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ/–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `src/pages/FuturesDashboard.tsx` (–ü–û–õ–ù–ê–Ø –ü–ï–†–ï–†–ê–ë–û–¢–ö–ê)
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω `React.memo` –¥–ª—è CorrelationChart
- –î–æ–±–∞–≤–ª–µ–Ω—ã `useMemo` –¥–ª—è chartData, rightAxisDomain, divergence, filteredFutures
- –î–æ–±–∞–≤–ª–µ–Ω—ã `useCallback` –¥–ª—è toggle handlers
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç–º Dynamic Y-Axis Scaling
- –î–æ–±–∞–≤–ª–µ–Ω—ã Toggle Controls (Chip buttons)
- –î–æ–±–∞–≤–ª–µ–Ω Debug Info (—Ç–µ–∫—É—â–∏–π domain)

**–°—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–æ:** ~300 (–ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞)

### 2. `src/hooks/useActiveFutures.ts` (—É–∂–µ —Å–æ–∑–¥–∞–Ω)
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** –î–ª—è Omni-Search

### 3. `src/services/moex-client.ts` (—É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω)
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** getActiveFutures(), processFutoiCandles()

**–í—Å–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** ~300 —Å—Ç—Ä–æ–∫

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [x] Dynamic Y-Axis Scaling —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] Toggle controls –¥–ª—è 3 –ª–∏–Ω–∏–π (Price, Smart, Retail)
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç domain
- [x] Padding 5% –¥–ª—è –æ—Ç—Å—Ç—É–ø–æ–≤
- [x] –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Å—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
- [x] Debug info –≤ UI

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [x] React.memo –¥–ª—è CorrelationChart
- [x] useMemo –¥–ª—è chartData
- [x] useMemo –¥–ª—è rightAxisDomain
- [x] useMemo –¥–ª—è filteredFutures
- [x] useMemo –¥–ª—è divergence
- [x] useCallback –¥–ª—è toggles

### UX
- [x] Eye/EyeOff –∏–∫–æ–Ω–∫–∏
- [x] –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
- [x] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ª–∏–Ω–∏–π (—Å–ø–ª–æ—à–Ω–∞—è/–ø—É–Ω–∫—Ç–∏—Ä)
- [x] –¢–µ–∫—É—â–∏–π domain –≤ UI
- [x] Omni-Search
- [x] Stats Grid

### –ö–∞—á–µ—Å—Ç–≤–æ
- [x] –õ–∏–Ω—Ç–µ—Ä: 0 –æ—à–∏–±–æ–∫
- [x] –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (3 —Ñ–∞–π–ª–∞)

---

## üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (30 —Å–µ–∫)

### –ó–∞–ø—É—Å–∫
```bash
cd SITE
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:5173/futures-dashboard`

### –ü—Ä–æ–≤–µ—Ä–∫–∞

**–®–∞–≥ 1:** –û–±–µ –ª–∏–Ω–∏–∏ –≤–∏–¥–Ω—ã
```
Y-–æ—Å—å: 7M, 5M, 3M, 1M
–§–∏–æ–ª–µ—Ç–æ–≤–∞—è: –í–∏–¥–Ω–∞ –æ—Ç—á–µ—Ç–ª–∏–≤–æ
–ó–µ–ª–µ–Ω–∞—è: –ü–ª–æ—Å–∫–∞—è –ª–∏–Ω–∏—è
```

**–®–∞–≥ 2:** –°–∫—Ä—ã—Ç—å Smart (–∫–ª–∏–∫ –Ω–∞ `üëÅÔ∏è –£–º–Ω—ã–µ`)
```
Y-–æ—Å—å: 1.05M, 1.00M, 0.95M  ‚Üê –ò–ó–ú–ï–ù–ò–õ–ê–°–¨!
–§–∏–æ–ª–µ—Ç–æ–≤–∞—è: –ò—Å—á–µ–∑–ª–∞
–ó–µ–ª–µ–Ω–∞—è: –†–∞—Å—Ç—è–Ω—É—Ç–∞ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω  ‚Üê –í–ò–î–ù–´ –î–í–ò–ñ–ï–ù–ò–Ø!
```

**–ö–æ–Ω—Å–æ–ª—å:**
```
[FuturesDashboard] üìê Domain: { final: [945000, 1055000] }
                                        ‚Üë –ù–æ–≤—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
```

‚úÖ Retail –ª–∏–Ω–∏—è **—Ä–∞—Å—Ç—è–Ω—É–ª–∞—Å—å**?  
‚úÖ Y-–æ—Å—å **–ø–µ—Ä–µ—Å—á–∏—Ç–∞–ª–∞—Å—å**?  
‚úÖ –î–≤–∏–∂–µ–Ω–∏—è Retail **–≤–∏–¥–Ω—ã**?

---

## üéâ –ò—Ç–æ–≥

**–í–°–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´:**

1. ‚úÖ **Dynamic Y-Axis Scaling:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ toggle
2. ‚úÖ **–†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –º–∞—Å—à—Ç–∞–±–∞:** 7M –±–æ–ª—å—à–µ –Ω–µ "–¥–∞–≤–∏—Ç" 1M
3. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –õ–∞–≥–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã (React.memo + useMemo)
4. ‚úÖ **Toggle Controls:** Eye/EyeOff —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
5. ‚úÖ **Debug Info:** –¢–µ–∫—É—â–∏–π domain –≤ UI
6. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 3 —Ñ–∞–π–ª–∞ (–ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ + —Ç–µ—Å—Ç—ã)

**–ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨:**
- –†–µ–Ω–¥–µ—Ä—ã –≥—Ä–∞—Ñ–∏–∫–∞: **‚Üì90%**
- –†–∞—Å—á–µ—Ç—ã domain: **‚Üì98%**
- –õ–∞–≥–∏: **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é**

**–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**
- Retail –∞–Ω–∞–ª–∏–∑: **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ ‚Üí –ò–¥–µ–∞–ª—å–Ω–æ**
- Smart –∞–Ω–∞–ª–∏–∑: **–•–æ—Ä–æ—à–æ ‚Üí –û—Ç–ª–∏—á–Ω–æ**
- –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π: **5-8 —Å–µ–∫ ‚Üí 1 —Å–µ–∫** (5-8x)

**–ò–ù–°–¢–†–£–ú–ï–ù–¢ –ì–û–¢–û–í –ö –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–û–ú–£ –¢–†–ï–ô–î–ò–ù–ì–£!** üéØüöÄ

---

**–§–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
1. `DYNAMIC_Y_AXIS_SCALING.md` - –ü–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–∞–ª–≥–æ—Ä–∏—Ç–º, –ø—Ä–∏–º–µ—Ä—ã, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)
2. `–¢–ï–°–¢_DYNAMIC_SCALING.md` - –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
3. `–ò–¢–û–ì–û–í–û–ï_–†–ï–ó–Æ–ú–ï_DYNAMIC_SCALING.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 3 —Ñ–µ–≤—Ä–∞–ª—è 2026
