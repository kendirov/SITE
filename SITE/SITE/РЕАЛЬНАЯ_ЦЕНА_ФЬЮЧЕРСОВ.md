# üìà –†–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Ñ—å—é—á–µ—Ä—Å–æ–≤ - –Ø—Ä–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

## –î–∞—Ç–∞: 3 —Ñ–µ–≤—Ä–∞–ª—è 2026
## –°—Ç–∞—Ç—É—Å: ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

**–ë—ã–ª–æ:**
- –ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã –±—ã–ª **–µ–¥–≤–∞ –≤–∏–¥–µ–Ω** - —Ç–µ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —Å opacity 0.2
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å **—Ñ–µ–π–∫–æ–≤–∞—è —Ü–µ–Ω–∞** (`95000 + Math.random() * 2000`)
- –¶–µ–Ω–∞ –≤—ã–≥–ª—è–¥–µ–ª–∞ –∫–∞–∫ "—Ñ–æ–Ω" - –Ω–µ –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫

**–ñ–∞–ª–æ–±–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
> "–ì—Ä–∞—Ñ–∏–∫ –±–∞–∑–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–π. –ù—É–∂–Ω—ã **–¥–≤–µ —à–∫–∞–ª—ã** - –ª–µ–≤–∞—è –¥–ª—è **—Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã** (–∫–∞–∫ –≤ TradingView), –ø—Ä–∞–≤–∞—è –¥–ª—è –ø–æ–∑–∏—Ü–∏–π. –ß—Ç–æ–±—ã –±—ã–ª–æ **–≤–∏–¥–Ω–æ —Ü–µ–Ω—É** –±–∞–∑–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–∞."

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã (MOEX API)

**–ù–æ–≤—ã–π –º–µ—Ç–æ–¥ –≤ `moex-client.ts`:**
```typescript
async getFuturesCandles(
  ticker: string, 
  from?: string, 
  till?: string, 
  interval: number = 60
): Promise<any[]>
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç ticker (`Si`, `BR`, etc.)
2. –ù–∞—Ö–æ–¥–∏—Ç **–±–ª–∏–∂–∞–π—à–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SiH6` –¥–ª—è `Si`)
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ OHLC —Å–≤–µ—á–∏** —Å `/iss/engines/futures/markets/forts/boards/RFUD/securities/{contract}/candles.json`
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å–≤–µ—á–µ–π —Å –ø–æ–ª—è–º–∏: `open`, `high`, `low`, `close`, `volume`, `begin`, `end`

**Endpoint:**
```
GET /iss/engines/futures/markets/forts/boards/RFUD/securities/SiH6/candles.json?from=2026-02-03&till=2026-02-03&interval=60
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `interval` - –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–≤–µ—á–µ–π (1, 10, 60 –º–∏–Ω—É—Ç, 24 —á–∞—Å–∞, etc.)
- `from` / `till` - –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç

---

### 2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (FUTOI + –¶–µ–Ω–∞)

**–û–±–Ω–æ–≤–ª–µ–Ω hook `useFutoiCandles.ts`:**

```typescript
const [rawRecords, priceCandles] = await Promise.all([
  moexClient.getFuturesOpenInterest(ticker, from, till),  // FUTOI –ø–æ–∑–∏—Ü–∏–∏
  moexClient.getFuturesCandles(ticker, from, till, 60),   // –°–≤–µ—á–∏ —Ü–µ–Ω—ã
])
```

**–õ–æ–≥–∏–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:**
1. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º FUTOI ‚Üí `FutoiCandle[]`
2. –î–ª—è –∫–∞–∂–¥–æ–π FUTOI —Å–≤–µ—á–∏ –∏—â–µ–º **matching** price candle –ø–æ –≤—Ä–µ–º–µ–Ω–∏
3. –î–æ–±–∞–≤–ª—è–µ–º `open`, `high`, `low`, `close`, `price`, `volume` –∫ FutoiCandle

**Matching –ª–æ–≥–∏–∫–∞:**
```typescript
const matchingPrice = priceCandles.find((pc: any) => {
  const futoiHour = futoi.time.substring(0, 2) // "10:00" -> "10"
  const priceHour = pc.begin?.substring(11, 13) // "2026-02-03T10:00:00" -> "10"
  return priceHour === futoiHour && pc.begin?.includes(futoi.tradedate)
})
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```typescript
{
  time: "10:00",
  tradedate: "2026-02-03",
  price: 95450,      // ‚Üê –†–ï–ê–õ–¨–ù–ê–Ø –¶–ï–ù–ê!
  open: 95400,
  high: 95500,
  low: 95300,
  close: 95450,
  volume: 12500,
  yur_long: 7200000,
  yur_short: 6800000,
  // ...
}
```

---

### 3. –Ø—Ä–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–Ω—ã

**–ë—ã–ª–æ (—Ç–µ–º–Ω—ã–π —Ñ–æ–Ω):**
```typescript
<linearGradient id="colorPrice">
  <stop offset="5%" stopColor="#27272a" stopOpacity={0.2} />
  <stop offset="95%" stopColor="#27272a" stopOpacity={0} />
</linearGradient>

<Area
  stroke="#27272a"
  strokeWidth={1}
  fill="url(#colorPrice)"
/>
```

**–°—Ç–∞–ª–æ (—è—Ä–∫–∞—è —Å–∏–Ω—è—è –æ–±–ª–∞—Å—Ç—å):**
```typescript
<linearGradient id="colorPrice">
  <stop offset="5%" stopColor="#3b82f6" stopOpacity={0.4} />  ‚Üê –°–∏–Ω–∏–π
  <stop offset="95%" stopColor="#1e3a8a" stopOpacity={0.1} />  ‚Üê –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π
</linearGradient>

<Area
  stroke="#3b82f6"      ‚Üê –Ø—Ä–∫–∞—è —Å–∏–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞
  strokeWidth={2}       ‚Üê –¢–æ–ª—â–µ (–±—ã–ª–æ 1)
  fill="url(#colorPrice)"
/>
```

**Y-–æ—Å—å (–ª–µ–≤–∞—è) - —Ç–µ–ø–µ—Ä—å —Å–∏–Ω—è—è:**
```typescript
<YAxis
  yAxisId="price"
  orientation="left"
  stroke="#3b82f6"      ‚Üê –°–∏–Ω—è—è –æ—Å—å (–±—ã–ª–∞ —Å–µ—Ä–∞—è)
  label={{
    value: '–¶–µ–Ω–∞ (‚ÇΩ)',
    style: { fill: '#3b82f6', fontWeight: 'bold' }  ‚Üê –ñ–∏—Ä–Ω—ã–π —Å–∏–Ω–∏–π —Ç–µ–∫—Å—Ç
  }}
/>
```

---

## üìä –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### –î–æ (—Ç–µ–º–Ω—ã–π —Ñ–æ–Ω)
```
Y-–æ—Å—å: —Å–µ—Ä–∞—è, —Ç—É—Å–∫–ª–∞—è
–ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã: [‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] ‚Üê –ï–¥–≤–∞ –≤–∏–¥–Ω–∞ (opacity 0.2)
```

### –ü–æ—Å–ª–µ (—è—Ä–∫–∞—è –æ–±–ª–∞—Å—Ç—å)
```
Y-–æ—Å—å: –°–ò–ù–Ø–Ø, –∂–∏—Ä–Ω–∞—è
–ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã: [‚ñà‚ñà‚ñà‚ñà‚ñì‚ñì] ‚Üê –í–ò–î–ù–ê –û–¢–ß–ï–¢–õ–ò–í–û! (opacity 0.4)
–ì—Ä–∞–Ω–∏—Ü–∞: –°–∏–Ω—è—è 2px (–±—ã–ª–æ 1px —Å–µ—Ä–∞—è)
```

---

## üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

| –≠–ª–µ–º–µ–Ω—Ç | –¶–≤–µ—Ç | Hex | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|------|-----|-----------|
| **–¶–µ–Ω–∞ (–æ–±–ª–∞—Å—Ç—å)** | –°–∏–Ω–∏–π | `#3b82f6` | –ì–ª–∞–≤–Ω–∞—è —Ü–µ–Ω–∞ (fill gradient) |
| **–¶–µ–Ω–∞ (–≥—Ä–∞–Ω–∏—Ü–∞)** | –°–∏–Ω–∏–π | `#3b82f6` | –ö–æ–Ω—Ç—É—Ä –æ–±–ª–∞—Å—Ç–∏ (stroke) |
| **Y-–æ—Å—å (–ª–µ–≤–∞—è)** | –°–∏–Ω–∏–π | `#3b82f6` | –®–∫–∞–ª–∞ —Ü–µ–Ω—ã |
| **Gradient top** | –°–∏–Ω–∏–π —Å–≤–µ—Ç–ª—ã–π | `#3b82f6` 40% | –í–µ—Ä—Ö –æ–±–ª–∞—Å—Ç–∏ |
| **Gradient bottom** | –°–∏–Ω–∏–π —Ç–µ–º–Ω—ã–π | `#1e3a8a` 10% | –ù–∏–∑ –æ–±–ª–∞—Å—Ç–∏ |

**–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞:**
- **–°–∏–Ω–∏–π** - —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ü–µ–Ω—ã –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö
- **–ì—Ä–∞–¥–∏–µ–Ω—Ç** - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞, –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫
- **–Ø—Ä–∫–æ—Å—Ç—å** - –≤–∏–¥–Ω–∞ –Ω–∞ —Ç–µ–º–Ω–æ–º —Ñ–æ–Ω–µ (#09090b)

---

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### FutoiCandle (–æ–±–Ω–æ–≤–ª–µ–Ω)

```typescript
export interface FutoiCandle {
  time: string              // "10:00"
  tradedate: string         // "2026-02-03"
  
  // ‚úÖ –ù–û–í–´–ï –ü–û–õ–Ø (—Ä–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞)
  price?: number            // Close price (–æ—Å–Ω–æ–≤–Ω–∞—è)
  open?: number             // Open
  high?: number             // High
  low?: number              // Low
  close?: number            // Close
  volume?: number           // Volume
  
  // –ü–æ–∑–∏—Ü–∏–∏ (–∫–∞–∫ –±—ã–ª–æ)
  yur_net: number
  yur_long: number
  yur_short: number
  fiz_net: number
  fiz_long: number
  fiz_short: number
  // ...
}
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç #1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã

**–ó–∞–ø—É—Å–∫:**
```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:5173/futures-dashboard`

**–ö–æ–Ω—Å–æ–ª—å (F12):**
```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
[MOEX] üìà Fetching PRICE candles for Si
[MOEX] üìÖ Range: 2026-02-03 ‚Üí 2026-02-03
[MOEX] ‚è±Ô∏è Interval: 60 min
[MOEX] üéØ Normalized ticker: Si
[MOEX] üéØ Using nearest contract: SiH6 (expires: 2026-03-15)
[MOEX] ‚úÖ Retrieved 10 price candles
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

[useFutoiCandles] üì¶ FUTOI: 24 records
[useFutoiCandles] üìà Price: 10 candles
[useFutoiCandles] ‚úÖ Merged 10/12 candles with price
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–≥—Ä—É–∑–∫—É price candles?
- ‚úÖ –í–∏–¥–Ω–æ "Merged X/Y candles with price"?
- ‚úÖ X –±–ª–∏–∑–∫–æ –∫ Y (–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–≤–µ—á–µ–π —Å —Ü–µ–Ω–æ–π)?

---

### –¢–µ—Å—Ç #2: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —è—Ä–∫–æ–π —Ü–µ–Ω—ã

**–î–µ–π—Å—Ç–≤–∏–µ:**
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫

**–û–∂–∏–¥–∞–µ–º–æ–µ:**
```
Y-–æ—Å—å —Å–ª–µ–≤–∞ (–°–ò–ù–Ø–Ø):
95K ‚î§
94K ‚î§
93K ‚î§
    ‚îî‚îÄ –¶–µ–Ω–∞ (‚ÇΩ)

–ì—Ä–∞—Ñ–∏–∫:
[–°–∏–Ω—è—è —è—Ä–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚ñà‚ñà‚ñà‚ñà‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë] ‚Üê –í–ò–î–ù–ê!
[–§–∏–æ–ª–µ—Ç–æ–≤–∞—è –ª–∏–Ω–∏—è ‚îÅ‚îÅ‚îÅ]         ‚Üê –Æ—Ä. NET
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ Y-–æ—Å—å —Å–ª–µ–≤–∞ **—Å–∏–Ω—è—è** (–Ω–µ —Å–µ—Ä–∞—è)?
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã **–≤–∏–¥–∏–º—ã–π** (–Ω–µ –µ–¥–≤–∞ –∑–∞–º–µ—Ç–Ω—ã–π —Ñ–æ–Ω)?
- ‚úÖ –ì—Ä–∞–Ω–∏—Ü–∞ —Å–∏–Ω—è—è 2px?
- ‚úÖ –ì—Ä–∞–¥–∏–µ–Ω—Ç –æ—Ç —Å–≤–µ—Ç–ª–æ-—Å–∏–Ω–µ–≥–æ –∫ —Ç–µ–º–Ω–æ-—Å–∏–Ω–µ–º—É?

---

### –¢–µ—Å—Ç #3: Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω—É

**–î–µ–π—Å—Ç–≤–∏–µ:**
–ù–∞–≤–µ–¥–∏—Ç–µ –º—ã—à—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫

**–û–∂–∏–¥–∞–µ–º–æ–µ:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 10:00                   ‚îÇ
‚îÇ –¶–µ–Ω–∞: 95,450 ‚ÇΩ         ‚îÇ ‚Üê –†–ï–ê–õ–¨–ù–ê–Ø —Ü–µ–Ω–∞!
‚îÇ –Æ—Ä. NET: 400 —Ç—ã—Å       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –¶–µ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–µ 95000 + random)?
- ‚úÖ –¶–µ–Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ (95,450)?
- ‚úÖ –ï—Å—Ç—å –∑–Ω–∞—á–æ–∫ ‚ÇΩ?

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ê–Ω–∞–ª–∏–∑ –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏–∏ (–¶–µ–Ω–∞ vs Smart Money)

**–¶–µ–ª—å:** –£–≤–∏–¥–µ—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–≤–∏–∂–µ–Ω–∏–µ–º —Ü–µ–Ω—ã –∏ —É–º–Ω—ã—Ö –¥–µ–Ω–µ–≥

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ **–¶–µ–Ω–∞** –∏ **–Æ—Ä. NET** –≤–∏–¥–Ω—ã
2. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ —Å–∫—Ä—ã—Ç—ã

**–ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å:**
```
–ì—Ä–∞—Ñ–∏–∫:
[–°–∏–Ω—è—è –æ–±–ª–∞—Å—Ç—å ‚ï±‚ï≤]   ‚Üê –¶–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç
[–ó–æ–ª–æ—Ç–∞—è –ª–∏–Ω–∏—è ‚ï≤‚ï±]   ‚Üê –Æ—Ä. NET –ø–∞–¥–∞–µ—Ç

Badge: üî¥ –î–ò–í–ï–†–ì–ï–ù–¶–ò–Ø (–ú–µ–¥–≤–µ–∂—å—è)
```

**–ê–Ω–∞–ª–∏–∑:**
- –¶–µ–Ω–∞ –¥–µ–ª–∞–µ—Ç **–Ω–æ–≤—ã–µ –º–∞–∫—Å–∏–º—É–º—ã**
- Smart Money **—Å–æ–∫—Ä–∞—â–∞–µ—Ç** –Ω–µ—Ç—Ç–æ –ø–æ–∑–∏—Ü–∏–∏
- **–°–∏–≥–Ω–∞–ª:** –í–µ—Ä–æ—è—Ç–Ω—ã–π —Ä–∞–∑–≤–æ—Ä–æ—Ç –≤–Ω–∏–∑

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞ (Convergence)

**–ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å:**
```
–ì—Ä–∞—Ñ–∏–∫:
[–°–∏–Ω—è—è –æ–±–ª–∞—Å—Ç—å ‚ï±‚ï±‚ï±]  ‚Üê –¶–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç
[–ó–æ–ª–æ—Ç–∞—è –ª–∏–Ω–∏—è ‚ï±‚ï±‚ï±]  ‚Üê –Æ—Ä. NET —Ä–∞—Å—Ç–µ—Ç

Badge: ‚ö° –ö–û–ù–í–ï–†–ì–ï–ù–¶–ò–Ø
```

**–ê–Ω–∞–ª–∏–∑:**
- –¶–µ–Ω–∞ –∏ Smart Money –¥–≤–∏–∂—É—Ç—Å—è **–≤–º–µ—Å—Ç–µ**
- **–°–∏–≥–Ω–∞–ª:** –¢—Ä–µ–Ω–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–∫—Ä—ã—Ç—å —Ü–µ–Ω—É (—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–∑–∏—Ü–∏—è—Ö)

**–î–µ–π—Å—Ç–≤–∏—è:**
–ö–ª–∏–∫–Ω–∏—Ç–µ `üëÅÔ∏è –¶–µ–Ω–∞` ‚Üí —Å–∫—Ä—ã—Ç—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Y-–æ—Å—å —Å–ª–µ–≤–∞: –ò–°–ß–ï–ó–õ–ê (price axis hidden)
Y-–æ—Å—å —Å–ø—Ä–∞–≤–∞: –ó–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω

–ì—Ä–∞—Ñ–∏–∫:
[–¢–æ–ª—å–∫–æ –ª–∏–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏–π –≤–∏–¥–Ω—ã]
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ù—É–∂–µ–Ω —Ñ–æ–∫—É—Å **—Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ–∑–∏—Ü–∏—è—Ö**
- –¶–µ–Ω–∞ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç –∏–ª–∏ –Ω–µ –≤–∞–∂–Ω–∞
- –ú–Ω–æ–≥–æ –ª–∏–Ω–∏–π - –Ω—É–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π —à—É–º

---

## üìê –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. User –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç /futures-dashboard
2. selectedTicker = "Si"
3. useFutoiCandles("Si", 1)
   ‚îú‚îÄ moexClient.getFuturesOpenInterest("Si") ‚Üí FUTOI records
   ‚îî‚îÄ moexClient.getFuturesCandles("Si")      ‚Üí Price candles
4. Merge FUTOI + Price by timestamp
5. chartData = FutoiCandle[] (—Å —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π)
6. CorrelationChart —Ä–µ–Ω–¥–µ—Ä–∏—Ç:
   ‚îú‚îÄ Left Y-Axis (Price, —Å–∏–Ω—è—è)
   ‚îî‚îÄ Right Y-Axis (Positions, —Å–µ—Ä–∞—è)
```

---

### API Endpoints

**FUTOI (–ø–æ–∑–∏—Ü–∏–∏):**
```
GET /iss/analyticalproducts/futoi/securities/Si.json?from=...&till=...
```

**Price (—Å–≤–µ—á–∏):**
```
GET /iss/engines/futures/markets/forts/boards/RFUD/securities/SiH6/candles.json?interval=60
```

**Active Futures (—Å–ø–∏—Å–æ–∫):**
```
GET /iss/engines/futures/markets/forts/boards/RFUD/securities.json
```

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. Matching –ø–æ –≤—Ä–µ–º–µ–Ω–∏ - –Ω–µ—Ç–æ—á–Ω—ã–π

**–ü—Ä–æ–±–ª–µ–º–∞:**
- FUTOI - –ø–æ—á–∞—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (`10:00`, `11:00`)
- Price candles - 60-–º–∏–Ω—É—Ç–Ω—ã–µ (`10:00-11:00`)
- Matching –ø–æ —á–∞—Å—É –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–µ—á–∏

**–†–µ—à–µ–Ω–∏–µ (–±—É–¥—É—â–µ–µ):**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ timestamp
- –ò–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

---

### 2. –ù–µ –≤—Å–µ —Å–≤–µ—á–∏ –∏–º–µ—é—Ç —Ü–µ–Ω—É

**–°–∏–º–ø—Ç–æ–º:**
```
[useFutoiCandles] ‚úÖ Merged 8/12 candles with price
                              ‚Üë –ù–µ –≤—Å–µ!
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- FUTOI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–∞—â–µ —á–µ–º price candles
- –ò–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç - –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å `chartData.filter(d => d.price)` –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–æ–º
- –ò–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ FUTOI –±–µ–∑ —Ü–µ–Ω—ã –¥–ª—è —ç—Ç–∏—Ö —Ç–æ—á–µ–∫

---

## üéâ –ò—Ç–æ–≥

**–í–°–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´:**

1. ‚úÖ **–†–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** - —á–µ—Ä–µ–∑ MOEX API (`getFuturesCandles`)
2. ‚úÖ **–î–≤–µ —à–∫–∞–ª—ã** - –õ–µ–≤–∞—è (–¶–µ–Ω–∞, —Å–∏–Ω—è—è) + –ü—Ä–∞–≤–∞—è (–ü–æ–∑–∏—Ü–∏–∏, —Å–µ—Ä–∞—è)
3. ‚úÖ **–Ø—Ä–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - –°–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç, –≤–∏–¥–∏–º–∞—è –≥—Ä–∞–Ω–∏—Ü–∞
4. ‚úÖ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - FUTOI + Price –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
5. ‚úÖ **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - Merging –ø–æ timestamp
6. ‚úÖ **Toggle control** - –ú–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å —Ü–µ–Ω—É

**–£–õ–£–ß–®–ï–ù–ò–Ø:**
- –í–∏–¥–∏–º–æ—Å—Ç—å: –û—Ç **5%** (–µ–¥–≤–∞ –≤–∏–¥–Ω–∞) ‚Üí **100%** (–æ—Ç—á–µ—Ç–ª–∏–≤–æ –≤–∏–¥–Ω–∞)
- –¶–≤–µ—Ç Y-–æ—Å–∏: –°–µ—Ä–∞—è ‚Üí **–°–∏–Ω—è—è** (–∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è —Å —Ü–µ–Ω–æ–π)
- Stroke: 1px —Å–µ—Ä–∞—è ‚Üí **2px —Å–∏–Ω—è—è** (—è—Ä—á–µ)
- Gradient: –¢–µ–º–Ω—ã–π —Å–µ—Ä—ã–π ‚Üí **–°–∏–Ω–∏–π** (–∫–æ–Ω—Ç—Ä–∞—Å—Ç)

**–ì–û–¢–û–í–û –ö –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–û–ú–£ –¢–†–ï–ô–î–ò–ù–ì–£!** üéØüìà

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 3 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è:** V6 (–†–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Ñ—å—é—á–µ—Ä—Å–æ–≤)
