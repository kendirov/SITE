# Eatventure Bot — Описание файлов на русском

Этот файл помогает понять, что делает каждый файл бота. Вы можете ориентироваться по нему, если не умеете кодить.

---

## Как запустить бота

```bash
python run.py
```

Бот запускается. Нажми **ESC** для аварийной остановки.

---

## Части бота (что он умеет)

| Часть | Описание | Файл |
|-------|----------|------|
| **1. Улучшение уровней** | Кликает красные стрелки улучшений (станции). Проверяет, что кнопка активна (красная, а не серая). | `src/features/upgrader.py` |
| **2. Общие улучшения** | Открывает меню улучшений (иконка), покупает бусты. | `src/features/general_upgrades.py` |
| **3. Прокрутка** | Прокручивает экран вниз/вверх, чтобы находить новые станции. | `src/features/navigator.py` |
| **4. Сбор ящичков** | Ищет ящики на полу и кликает по ним, чтобы открыть. | `src/features/box_collector.py` |

---

## Основные файлы

### `run.py`
Точка входа. Запускает бота и слушает ESC для остановки.

### `src/main.py`
Главный цикл. По очереди проверяет: реновация → общие улучшения → улучшение станций → прокрутка → чаевые → ящики.

### `src/core/` (ядро, лучше не трогать)

| Файл | Назначение |
|------|------------|
| `vision.py` | Снимает экран, ищет картинки (шаблоны) в зоне игры. |
| `input.py` | Клики мышью, свайпы, долгое нажатие. |
| `config.py` | Настройки: зона игры, пороги, таймеры. |
| `memory.py` | Запоминает, куда уже кликали, чтобы не спамить. |
| `logger.py` | Логи в файл и в консоль. |

### `src/features/` (игровая логика)

| Файл | Назначение |
|------|------------|
| `upgrader.py` | **Часть 1.** Улучшение уровней. Ищет красные стрелки, проверяет что кнопка активна (не серая), кликает. |
| `general_upgrades.py` | **Часть 2.** Общие улучшения (бусты, шеф и т.д.). |
| `navigator.py` | **Часть 3.** Прокрутка экрана. |
| `box_collector.py` | **Часть 4.** Сбор ящичков. |
| `tips_collector.py` | Сбор чаевых (монетки). |
| `renovator.py` | Реновация (улучшение ресторана). |

### `assets/`
Картинки-шаблоны, по которым бот ищет элементы на экране:
- `upgrade_arrow.png` — красная стрелка улучшения
- `btn_buy.png` — кнопка покупки
- `box_floor.png` — ящик на полу
- и т.д.

### `debug/`
Скриншоты при ошибках и лог бота. Полезно, если что-то идёт не так.

---

## Настройка зоны игры

Если бот не находит элементы, нужно задать зону игры (область экрана, где отображается игра).

Запусти:
```bash
python setup_zone.py
```

Следуй инструкциям в терминале.

---

## Часть 1: Проверка активности улучшения

В `upgrader.py` добавлена проверка:
- **Красная кнопка** = улучшение доступно, можно кликать.
- **Серая кнопка** = недостаточно денег, бот не кликает.

Это уменьшает ложные клики, когда кнопка видна, но нажать нельзя.
